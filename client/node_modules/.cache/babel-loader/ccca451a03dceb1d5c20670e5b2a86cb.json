{"ast":null,"code":"import _toConsumableArray from\"/Users/albertshay/Desktop/silkroad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/albertshay/Desktop/silkroad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{FETCH_ALL,FETCH_BY_SEARCH,FETCH_POST,// FETCH_BY_USER,\n// FETCH_BY_LIKES,\nPROFILE,CREATE,UPDATE,DELETE,LIKE,COMMENT}from'../constants/actionTypes';export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isLoading:true,posts:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'START_LOADING':return _objectSpread(_objectSpread({},state),{},{isLoading:true});case'END_LOADING':return _objectSpread(_objectSpread({},state),{},{isLoading:false});case FETCH_ALL:return _objectSpread(_objectSpread({},state),{},{posts:action.payload.data,currentPage:action.payload.currentPage,numberOfPages:action.payload.numberOfPages});case FETCH_BY_SEARCH:return _objectSpread(_objectSpread({},state),{},{posts:action.payload.data});// case FETCH_BY_LIKES:\n//   return { ...state, posts: action.payload.data };\ncase PROFILE:return _objectSpread(_objectSpread({},state),{},{posts:action.payload.data});case FETCH_POST:return _objectSpread(_objectSpread({},state),{},{post:action.payload.post});case LIKE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload._id?action.payload:post;})});case COMMENT:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){if(post._id==+action.payload._id){return action.payload;}return post;})});case CREATE:return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[action.payload])});case UPDATE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload._id?action.payload:post;})});case DELETE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==action.payload;})});default:return state;}});","map":{"version":3,"sources":["/Users/albertshay/Desktop/silkroad/client/src/reducers/posts.js"],"names":["FETCH_ALL","FETCH_BY_SEARCH","FETCH_POST","PROFILE","CREATE","UPDATE","DELETE","LIKE","COMMENT","state","isLoading","posts","action","type","payload","data","currentPage","numberOfPages","post","map","_id","filter"],"mappings":"uUAAA,OACEA,SADF,CAEEC,eAFF,CAGEC,UAHF,CAIE;AACA;AACAC,OANF,CAOEC,MAPF,CAQEC,MARF,CASEC,MATF,CAUEC,IAVF,CAWEC,OAXF,KAYO,0BAZP,CAcA,eAAe,UAAoD,IAAnDC,CAAAA,KAAmD,2DAA3C,CAAEC,SAAS,CAAE,IAAb,CAAmBC,KAAK,CAAE,EAA1B,CAA2C,IAAXC,CAAAA,MAAW,2CACjE,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,eAAL,CACE,sCAAYJ,KAAZ,MAAmBC,SAAS,CAAE,IAA9B,GACF,IAAK,aAAL,CACE,sCAAYD,KAAZ,MAAmBC,SAAS,CAAE,KAA9B,GACF,IAAKV,CAAAA,SAAL,CACE,sCACKS,KADL,MAEEE,KAAK,CAAEC,MAAM,CAACE,OAAP,CAAeC,IAFxB,CAGEC,WAAW,CAAEJ,MAAM,CAACE,OAAP,CAAeE,WAH9B,CAIEC,aAAa,CAAEL,MAAM,CAACE,OAAP,CAAeG,aAJhC,GAMF,IAAKhB,CAAAA,eAAL,CACE,sCAAYQ,KAAZ,MAAmBE,KAAK,CAAEC,MAAM,CAACE,OAAP,CAAeC,IAAzC,GACF;AACA;AACA,IAAKZ,CAAAA,OAAL,CACE,sCAAYM,KAAZ,MAAmBE,KAAK,CAAEC,MAAM,CAACE,OAAP,CAAeC,IAAzC,GACF,IAAKb,CAAAA,UAAL,CACE,sCAAYO,KAAZ,MAAmBS,IAAI,CAAEN,MAAM,CAACE,OAAP,CAAeI,IAAxC,GACF,IAAKX,CAAAA,IAAL,CACE,sCACKE,KADL,MAEEE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYQ,GAAZ,CAAgB,SAACD,IAAD,QACrBA,CAAAA,IAAI,CAACE,GAAL,GAAaR,MAAM,CAACE,OAAP,CAAeM,GAA5B,CAAkCR,MAAM,CAACE,OAAzC,CAAmDI,IAD9B,EAAhB,CAFT,GAMF,IAAKV,CAAAA,OAAL,CACE,sCACKC,KADL,MAEEE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYQ,GAAZ,CAAgB,SAACD,IAAD,CAAU,CAC/B,GAAIA,IAAI,CAACE,GAAL,EAAY,CAACR,MAAM,CAACE,OAAP,CAAeM,GAAhC,CAAqC,CACnC,MAAOR,CAAAA,MAAM,CAACE,OAAd,CACD,CACD,MAAOI,CAAAA,IAAP,CACD,CALM,CAFT,GASF,IAAKd,CAAAA,MAAL,CACE,sCAAYK,KAAZ,MAAmBE,KAAK,8BAAMF,KAAK,CAACE,KAAZ,GAAmBC,MAAM,CAACE,OAA1B,EAAxB,GACF,IAAKT,CAAAA,MAAL,CACE,sCACKI,KADL,MAEEE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYQ,GAAZ,CAAgB,SAACD,IAAD,QACrBA,CAAAA,IAAI,CAACE,GAAL,GAAaR,MAAM,CAACE,OAAP,CAAeM,GAA5B,CAAkCR,MAAM,CAACE,OAAzC,CAAmDI,IAD9B,EAAhB,CAFT,GAMF,IAAKZ,CAAAA,MAAL,CACE,sCACKG,KADL,MAEEE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYU,MAAZ,CAAmB,SAACH,IAAD,QAAUA,CAAAA,IAAI,CAACE,GAAL,GAAaR,MAAM,CAACE,OAA9B,EAAnB,CAFT,GAIF,QACE,MAAOL,CAAAA,KAAP,CApDJ,CAsDD,CAvDD","sourcesContent":["import {\n  FETCH_ALL,\n  FETCH_BY_SEARCH,\n  FETCH_POST,\n  // FETCH_BY_USER,\n  // FETCH_BY_LIKES,\n  PROFILE,\n  CREATE,\n  UPDATE,\n  DELETE,\n  LIKE,\n  COMMENT,\n} from '../constants/actionTypes';\n\nexport default (state = { isLoading: true, posts: [] }, action) => {\n  switch (action.type) {\n    case 'START_LOADING':\n      return { ...state, isLoading: true };\n    case 'END_LOADING':\n      return { ...state, isLoading: false };\n    case FETCH_ALL:\n      return {\n        ...state,\n        posts: action.payload.data,\n        currentPage: action.payload.currentPage,\n        numberOfPages: action.payload.numberOfPages,\n      };\n    case FETCH_BY_SEARCH:\n      return { ...state, posts: action.payload.data };\n    // case FETCH_BY_LIKES:\n    //   return { ...state, posts: action.payload.data };\n    case PROFILE:\n      return { ...state, posts: action.payload.data };\n    case FETCH_POST:\n      return { ...state, post: action.payload.post };\n    case LIKE:\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post._id === action.payload._id ? action.payload : post\n        ),\n      };\n    case COMMENT:\n      return {\n        ...state,\n        posts: state.posts.map((post) => {\n          if (post._id == +action.payload._id) {\n            return action.payload;\n          }\n          return post;\n        }),\n      };\n    case CREATE:\n      return { ...state, posts: [...state.posts, action.payload] };\n    case UPDATE:\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post._id === action.payload._id ? action.payload : post\n        ),\n      };\n    case DELETE:\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== action.payload),\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}